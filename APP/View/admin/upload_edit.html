<link href="${DATA.BASE_PATH}uploadify/css/uploadify.css"
	rel="stylesheet" type="text/css" media="screen" />
<script src="${DATA.BASE_PATH}uploadify/scripts/jquery.uploadify.js"
	type="text/javascript"></script>

<div class="pageContent">

	<form method="post"
		action="${DATA.BASE_PATH}admin/music_do_edit"
		class="pageForm required-validate"
		onsubmit="return validateCallback(this, navTabAjaxDone);">
		<div class="pageFormContent" layoutH="56">
			<c:if test="${DATA.music.id > 0}">
				<p>
					<label>
						ID：
					</label>
					<input type="text" size="30"
						value="${DATA.music.id}" readonly="readonly" />
					<input type="hidden"  name="music.id"  value="${DATA.music.id}" />
				</p>
			</c:if>

			<p>
				<label>
					歌曲名称：
				</label>
				<input name="music.name" class="required" type="text" size="30"
					value="${DATA.music.name}" alt="" />
			</p>

			<p>
				<label>
					歌手：
				</label>
				<input name="artist_name" class="required" type="text" size="30"
					value="${DATA.music.artist.name}" alt="" />
			</p>

			<c:if test="${DATA.music.id > 0}">
				<p>
					<label>
						下载次数：
					</label>
					<input name="music.downCount" type="text" size="30"
						value="${DATA.music.downCount}" />
				</p>

				<p>
					<label>
						试听次数：
					</label>
					<input name="music.hitsCount" type="text" size="30"
						value="${DATA.music.hitsCount}" />
				</p>
				
				<div class="divider"></div>
				<p>
					<label>
						歌曲URL：
					</label>
					<input type="text" size="160" name="music.url" value="${DATA.music.url}" />
				</p>
				
				
				<div class="divider"></div>
				<p>
					<label>
						歌词URL：
					</label>
					<input type="text" size="160" name="music.lrcUrl" value="${DATA.music.lrcUrl}" />
				</p>
			</c:if>
			
			<c:if test="${!(DATA.music.id > 0)}">
			<div class="divider"></div>
			<p>
				<label>
					上传歌曲：
				</label>
				<div class="divider"></div>
				<input id="songInput" type="file" name="uploadFile"
					uploaderOption="{  
			            swf:'${DATA.BASE_PATH}uploadify/scripts/uploadify.swf',  
			            uploader:'${DATA.BASE_PATH}admin/music_upload',  
			            formData:{'songKey':'${DATA.songKey}'},  
			            buttonText:'请选择歌曲', 
			            method:'post',
			            fileSizeLimit:'16MB',  
			            fileTypeDesc:'*.wmv; *.mp3; *.wave; *.3gp; *.mid; *.ogg',  
			            fileTypeExts:'*.wmv; *.mp3; *.wave; *.3gp; *.mid; *.ogg',  
			            auto:true,
			            multi:false,
			            removeCompleted:false,
			            onQueueComplete:uploadifyQueueComplete  
			        }" />
			</p>
			<div class="divider"></div>
			
			<p>
				<label>
					上传歌词：
				</label>
				<div class="divider"></div>
				<input id="lrcInput" type="file" name="uploadFile"
					uploaderOption="{  
			            swf:'${DATA.BASE_PATH}uploadify/scripts/uploadify.swf',  
			            uploader:'${DATA.BASE_PATH}admin/music_upload',  
			            formData:{'lrcKey':'${DATA.lrcKey}'},  
			            buttonText:'请选择歌词', 
			            method:'post',
			            fileSizeLimit:'1MB',  
			            fileTypeDesc:'*.lrc',  
			            fileTypeExts:'*.lrc',  
			            auto:true,
			            multi:false,
			            removeCompleted:false,
			            onQueueComplete:uploadifyQueueComplete  
			        }" />
			</p>
			<div class="divider"></div>
			</c:if>
			
			<c:if test="${DATA.music.id > 0}">
			<div class="divider"></div>
			<div class="divider"></div>
			<div class="divider"></div>
			
			<c:forEach var="cate" items="${DATA.cates}">
				<input type="checkbox" name="cateIds" value="${cate.id}" 
				<c:if test="${cate.checked}">checked="checked"</c:if> >&nbsp;${cate.name} <br />
			</c:forEach>
			</c:if>
			
		</div>
		
		<input type="hidden" name="songKey"  value="${DATA.songKey}" />
		<input type="hidden" name="lrcKey"  value="${DATA.lrcKey}" />
		
		<div class="formBar">
			<ul>
				<!--<li><a class="buttonActive" href="javascript:;"><span>保存</span></a></li>-->
				<li>
					<div class="buttonActive">
						<div class="buttonContent">
							<button type="submit">
								保存
							</button>
						</div>
					</div>
				</li>
				<li>
					<div class="button">
						<div class="buttonContent">
							<button type="button" class="close">
								取消
							</button>
						</div>
					</div>
				</li>
			</ul>
		</div>
	</form>
</div>